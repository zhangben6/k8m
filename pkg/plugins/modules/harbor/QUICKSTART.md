# Harbor 插件快速开始

## 5 分钟快速上手

### 第 1 步：启用插件（1 分钟）

1. 启动 k8m 系统
2. 登录系统（默认用户名/密码：k8m/k8m）
3. 进入 **系统管理** → **插件管理**
4. 找到 **Harbor镜像仓库** 插件
5. 依次点击：**安装** → **启用** → **启动**

✅ 完成后，左侧菜单会出现 **Harbor仓库** 菜单项

### 第 2 步：添加 Harbor 仓库（2 分钟）

1. 点击 **Harbor仓库** → **仓库管理**
2. 点击 **新增仓库** 按钮
3. 填写信息：

```
仓库名称：我的Harbor
Harbor地址：https://harbor.example.com
用户名：admin
密码：Harbor12345
跳过TLS验证：☑️（如果使用自签名证书）
设为默认仓库：☑️
```

4. 点击 **提交**
5. 点击 **测试连接** 验证配置

✅ 看到"连接成功"提示即可

### 第 3 步：浏览镜像（2 分钟）

#### 查看项目

1. 点击 **Harbor仓库** → **项目列表**
2. 选择刚才添加的仓库
3. 查看所有项目及统计信息

#### 查看镜像

1. 点击 **Harbor仓库** → **镜像仓库**
2. 选择仓库
3. 输入项目名称（如：library）
4. 查看镜像列表
5. 点击 **查看镜像** 查看详细信息

✅ 现在你可以看到所有镜像的标签、大小、推送时间等信息

## 常用操作

### 删除旧镜像

1. 在镜像列表中找到要删除的镜像
2. 点击 **查看镜像**
3. 在弹出的对话框中找到要删除的镜像
4. 点击 **删除** 按钮
5. 确认删除

⚠️ 删除操作不可恢复，请谨慎操作！

### 管理多个 Harbor

重复"第 2 步"添加更多 Harbor 仓库，系统支持管理多个 Harbor 实例。

### 设置默认仓库

1. 在仓库列表中找到要设为默认的仓库
2. 点击 **编辑**
3. 勾选 **设为默认仓库**
4. 点击 **提交**

## 下一步

- 📖 阅读 [完整文档](README.md)
- 💡 查看 [使用示例](EXAMPLE.md)
- 🔧 了解 [API 接口](README.md#api-接口)

## 故障排查

### 连接失败？

- ✅ 检查 Harbor 地址是否正确
- ✅ 检查用户名和密码
- ✅ 如果使用自签名证书，确保开启"跳过TLS验证"
- ✅ 检查网络连接

### 看不到项目？

- ✅ 确保 Harbor 用户有查看项目的权限
- ✅ 检查是否选择了正确的仓库

### 无法删除镜像？

- ✅ 确保 Harbor 用户有删除权限
- ✅ 检查镜像是否被标记为不可变

## 需要帮助？

- 查看 k8m 后端日志：`./k8m -v 6`
- 查看 Harbor 服务器日志
- 提交 Issue 到 GitHub

---

🎉 恭喜！你已经成功配置并使用 Harbor 插件了！
